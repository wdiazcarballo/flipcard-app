# Flipcard แอปพลิเคชัน - Frontend

ส่วน Frontend ของแอปพลิเคชัน Flipcard พัฒนาด้วย React.js สำหรับการเรียนรู้และทบทวนความรู้ด้วยบัตรคำศัพท์ดิจิทัล

## ภาพรวม

ส่วน Frontend นี้รับผิดชอบในการแสดงส่วนติดต่อผู้ใช้ (UI) และการโต้ตอบกับผู้ใช้ ประกอบด้วยส่วนต่างๆ ดังนี้:

- **การยืนยันตัวตน**: หน้าลงทะเบียนและเข้าสู่ระบบ
- **แดชบอร์ดผู้ใช้**: แสดงข้อมูลสรุปและหมวดหมู่บัตรคำของผู้ใช้
- **การจัดการหมวดหมู่**: สร้าง แก้ไข และลบหมวดหมู่บัตรคำ
- **การจัดการบัตรคำ**: สร้าง แก้ไข และลบบัตรคำในแต่ละหมวดหมู่
- **การเล่นเกมบัตรคำ**: พลิกบัตรคำและทดสอบความรู้

## โครงสร้างโปรเจค

```
frontend/
├── public/                  # ไฟล์สาธารณะ
│   ├── index.html           # ไฟล์ HTML หลัก
│   └── ...
├── src/                     # โค้ดต้นฉบับ
│   ├── api/                 # การเชื่อมต่อกับ API
│   │   └── axios.js
│   ├── components/          # คอมโพเนนต์ React
│   │   ├── auth/            # คอมโพเนนต์เกี่ยวกับการยืนยันตัวตน
│   │   ├── common/          # คอมโพเนนต์ทั่วไป
│   │   ├── creator/         # คอมโพเนนต์สำหรับผู้สร้าง
│   │   └── player/          # คอมโพเนนต์สำหรับผู้เล่น
│   ├── context/             # Context API
│   │   ├── AuthContext.js   # การจัดการสถานะการยืนยันตัวตน
│   │   └── CardContext.js   # การจัดการสถานะบัตรคำและหมวดหมู่
│   ├── pages/               # หน้าแอปพลิเคชัน
│   ├── styles/              # ไฟล์ CSS
│   ├── App.js               # คอมโพเนนต์หลัก
│   └── index.js             # จุดเริ่มต้นแอปพลิเคชัน
└── package.json             # การกำหนดค่าโปรเจค npm
```

## แผนผังการเชื่อมต่อและเส้นทาง (Routes Diagram)

แผนผังต่อไปนี้แสดงถึงการเชื่อมต่อระหว่างคอมโพเนนต์ต่างๆ และการทำงานของเส้นทาง (routes) ในแอปพลิเคชัน:

```
                                    +-------------------+
                                    |                   |
                                    |     index.js      |
                                    |                   |
                                    +--------+----------+
                                             |
                                             | (renders)
                                             v
+---------------+                   +--------+----------+                  +----------------+
|               |                   |                   |                  |                |
|  AuthContext  <------------------>+      App.js      +------------------>+  CardContext  |
|               |  (provides auth)  |                   | (provides cards) |                |
+-------+-------+                   +--------+----------+                  +--------+-------+
        ^                                    |                                     ^
        |                                    | (configures routes)                 |
        |                                    v                                     |
        |                            +-------+-------+                             |
        |                            |               |                             |
        |                            | React Router  |                             |
        |                            |               |                             |
        |                            +----+---+---+--+                             |
        |                                 |   |   |                                |
        |                                 |   |   |                                |
   +----+----+                 +----------+   |   +------------+           +------+------+
   |         |                 |              |                |           |             |
+--+ Login   |       +---------+----+   +-----+------+   +-----+------+   | Player      |
|  | Register|       |              |   |            |   |            |   | Dashboard   |
|  +---------+       | Home Page    |   | Creator    |   | FlipCard   |   +-------------+
|                    |              |   | Dashboard  |   | Game       |           |
|                    +--------------+   +-----+------+   +------------+           |
|                                             |                                    |
+-------------------------------------------+ | +-----------------------------------+
                                            | | |
                       +-------------------++ | ++------------------+
                       |                    | | |                   |
                 +-----+------+      +------+-+-+------+     +-----+-----------+
                 |            |      |                 |     |                 |
                 | CategoryForm|      | CategoryList    |     | CardList         |
                 |            |      |                 |     |                 |
                 +------------+      +-----------------+     +---------+-------+
                                                                       |
                                              +-----------------------+---------------+
                                              |                       |               |
                                      +-------+-------+      +--------+------+   +----+----------+
                                      |               |      |               |   |               |
                                      | CardForm      |      | CardPreview   |   | Other         |
                                      |               |      |               |   | Components    |
                                      +---------------+      +---------------+   +---------------+
```

แผนผังนี้แสดงโครงสร้างและความสัมพันธ์ต่างๆ:

- **index.js** เป็นจุดเริ่มต้นที่เรนเดอร์ **App.js**
- **App.js** กำหนดค่า **React Router** และรวม Context Providers
- **AuthContext** และ **CardContext** จัดการสถานะที่แชร์ทั่วทั้งแอปพลิเคชัน
- **React Router** จัดการเส้นทางไปยังหน้าต่างๆ เช่น หน้าหลัก แดชบอร์ด และหน้าเกม
- คอมโพเนนต์ย่อยต่างๆ เชื่อมต่อกับ Context เพื่อเข้าถึงและอัปเดตข้อมูล

### การไหลของข้อมูล (Data Flow)

1. **ผู้ใช้ → React Components**: ผู้ใช้โต้ตอบกับคอมโพเนนต์ UI
2. **Components → Context API**: คอมโพเนนต์เรียกใช้ฟังก์ชันใน Context เพื่ออัปเดตข้อมูล
3. **Context API → API Calls**: Context ทำการเรียก API ผ่าน axios
4. **API Calls → Backend**: คำขอถูกส่งไปยัง Backend API
5. **Backend → Frontend**: ข้อมูลถูกส่งกลับและอัปเดตใน Context
6. **Context → Components**: คอมโพเนนต์ที่เกี่ยวข้องจะเรนเดอร์ใหม่พร้อมข้อมูลที่อัปเดต

## การติดตั้ง

1. ต้องมี Node.js และ npm ติดตั้งในเครื่อง
2. ติดตั้ง dependencies:

```bash
npm install
```

## การรันแอปพลิเคชัน

### โหมดพัฒนา

```bash
npm start
```

เปิดเบราว์เซอร์และเข้าที่ [http://localhost:3000](http://localhost:3000)

### การสร้าง Production Build

```bash
npm run build
```

ไฟล์ build จะถูกสร้างในโฟลเดอร์ `build/`

## การทดสอบ

### การรันชุดทดสอบ

```bash
npm test
```

### การทดสอบแบบ End-to-End

```bash
npm run cypress:open
```

## เทคโนโลยีที่ใช้

- **React.js**: ไลบรารี JavaScript สำหรับสร้าง UI
- **React Router**: การจัดการเส้นทางในแอปพลิเคชัน
- **Axios**: ไลบรารีสำหรับการเรียกใช้ HTTP API
- **Context API**: การจัดการสถานะแอปพลิเคชัน

## การเชื่อมต่อกับ Backend

แอปพลิเคชันนี้เชื่อมต่อกับ API ของ Backend ที่พัฒนาด้วย Node.js และ Express.js ซึ่งโดยค่าเริ่มต้นจะทำงานบน `http://localhost:5000`.

การตั้งค่าการเชื่อมต่อสามารถปรับเปลี่ยนได้ในไฟล์ `/src/api/axios.js`

## การ Dockerize

เราสามารถสร้างคอนเทนเนอร์ Docker สำหรับ Frontend ได้ด้วยคำสั่งต่อไปนี้:

```bash
# สร้าง Docker image
docker build -t flipcard-frontend .

# รันคอนเทนเนอร์
docker run -p 80:80 flipcard-frontend
```

## การนำขึ้นใช้งาน

Frontend สามารถนำขึ้นใช้งานได้บนบริการ hosting ต่างๆ เช่น:

- AWS Amplify
- Netlify
- Vercel
- GitHub Pages

## การแก้ไขปัญหาเบื้องต้น

### ไม่สามารถเชื่อมต่อกับ Backend API ได้

- ตรวจสอบว่า Backend API ทำงานอยู่
- ตรวจสอบ URL ที่กำหนดใน `/src/api/axios.js`
- ตรวจสอบว่าไม่มีปัญหาเกี่ยวกับ CORS

### การล็อกอินไม่ทำงาน

- ตรวจสอบว่า localStorage สามารถเข้าถึงได้ในเบราว์เซอร์
- ตรวจสอบว่า JWT ถูกจัดเก็บและส่งไปกับคำขอ API อย่างถูกต้อง

## สำหรับนักศึกษา DTI 201

นี่เป็นโปรเจคสำหรับการเรียนรู้การพัฒนา Frontend ด้วย React.js โดยเน้นที่:

- การใช้ Component-based Architecture
- การจัดการสถานะด้วย Context API
- การเชื่อมต่อกับ RESTful API
- การสร้างส่วนติดต่อผู้ใช้ที่ตอบสนองและใช้งานง่าย

สำหรับข้อมูลเพิ่มเติม อธิบายใน README ไฟล์ที่โฟลเดอร์หลักของโปรเจค
